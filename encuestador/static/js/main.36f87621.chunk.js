(window["webpackJsonpservicio-pwa"]=window["webpackJsonpservicio-pwa"]||[]).push([[0],{11:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),u=n(9),s=n(1),o=n(2),l=n(4),h=n(3),p=n(6),f=n(5),d={TEXT:"text",NUMBER:"number",EMAIL:"email",RANGE_SLIDER:"range",WEB_SITE:"url",PHONE:"tel"},b=function(e){function t(e){var n;Object(s.a)(this,t);var a=(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).props.config.defaultValue;return n.state={value:a||""},n.config=n.getProps(),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange(t)}},{key:"getProps",value:function(){var e=this.props.config;switch(e.type){case d.TEXT:case d.EMAIL:case d.NUMBER:case d.WEB_SITE:return{type:e.type||d.TEXT};case d.RANGE_SLIDER:return{type:e.type,min:e.minValue,max:e.maxValue};case d.PHONE:return{type:e.type,pattern:"."};default:return{}}}},{key:"render",value:function(){var e=this.props.required;return r.a.createElement("input",Object.assign({className:"form-control",required:e,value:this.state.value},this.config,{onChange:this.handleChange}))}}]),t}(r.a.Component),m=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(l.a)(this,Object(h.a)(t).call(this,e));var a=e.config,r=a.items,c=a.defaultValue;return n.state={selected:r.indexOf(c).toString()},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.currentTarget.value;this.setState({selected:t});var n=this.props.config.items;this.props.onChange(n[t])}}]),t}(r.a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.required,c=t.config,i=[];return c.items.forEach(function(t,c){i.push(r.a.createElement("div",{className:"radio",key:c},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:n,value:c,required:a,onChange:e.handleChange,checked:"".concat(c)===e.state.selected}),t)))}),i}}]),t}(m),g=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.required,a=e.config.items,c=[];return a.forEach(function(e,t){return c.push(r.a.createElement("option",{key:t,value:t},e))}),r.a.createElement("select",{name:t,required:n,className:"form-control",value:this.state.selected,onChange:this.handleChange},c)}}]),t}(m),O=n(10),j=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(l.a)(this,Object(h.a)(t).call(this,e));var a=[],r=e.config.defaultValue;return r&&a.push(r),n.state={selected:a},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=this.props.config.items,n=e.currentTarget,a=n.value,r=n.checked,c=Object(O.a)(this.state.selected);r?c.push(t[a]):c.splice(c.indexOf(t[a]),1),this.setState({selected:c}),this.props.onChange(c)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.config,c=[];return a.items.forEach(function(t,a){c.push(r.a.createElement("div",{className:"checkbox",key:a},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:n,value:a,checked:e.state.selected.includes(t),onChange:e.handleChange}),t)))}),c}}]),t}(r.a.Component),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(p.a)(n)),n.htmlInput=n.getInput(),n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"getInput",value:function(){var e=this.props,t=e.name,n=e.required,a=e.config,c=a.type,i={name:t,required:n,config:a,onChange:this.handleChange};return Object.values(d).includes(c)?r.a.createElement(b,i):"radio"===c?r.a.createElement(v,i):"checkbox"===c?r.a.createElement(j,i):"select"===c?r.a.createElement(g,i):void 0}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.title;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},n),this.htmlInput)}}]),t}(r.a.Component);function E(e,t,n){return t=t||1/0,n>=(e=e||-1/0)&&n<=t}function C(e){return Array.isArray(e)?0!==e.length:""!==e.trim()}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={fields:[],values:[]},n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://servicio-ucol.herokuapp.com/form/".concat(1,"/fields/"),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){for(var n=[],a=0;a<t.length;a++)n.push({name:t[a].name,value:t[a].config.defaultValue||""});e.setState({fields:t,values:n})}).catch(console.error)}},{key:"handleChange",value:function(e,t){var n=this.state.fields,a=this.state.values.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)});a[e].value=t,this.setState({fields:n,values:a})}},{key:"validate",value:function(e,t,n){var a=!0;switch(t&&(a=a&&C(e)),n.type){case d.NUMBER:case d.RANGE_SLIDER:a=a&&E(n.minValue,n.maxValue,e)}return a}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.state.values.forEach(function(e,n){var a=t.state.fields[n],r=a.required,c=a.config;console.log(c,e.value,t.validate(e.value,r,c))})}},{key:"render",value:function(){var e=this,t=[];return this.state.fields.forEach(function(n,a){return t.push(r.a.createElement(y,{key:n._id,name:n.name,title:n.title,required:n.required,config:n.config,onChange:function(t){return e.handleChange(a,t)}}))}),r.a.createElement("form",{className:"col-12 col-md-8",onSubmit:this.handleSubmit},t,r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},"Enviar"))}}]),t}(r.a.Component);i.a.render(r.a.createElement(S,null),document.querySelector("#root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.36f87621.chunk.js.map